name: Deployment Notification

on:
  deployment_status:
    types: [success]

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
    - name: Send notification to Slack
      uses: slackapi/slack-github-action@v1.18.0
      with:
        payload: |
          {
            "channel": "#deployments",
            "attachments": [
              {
                "color": "#36a64f",
                "pretext": "Deployment Successful",
                "title": "Deployment Notification",
                "text": "A new deployment has been successfully completed.",
                "footer": "GitHub Actions",
                "ts": $(date +%s)
              }
            ]
          }
        slack-bot-token: ${{ secrets.SLACK_BOT_TOKEN }}
